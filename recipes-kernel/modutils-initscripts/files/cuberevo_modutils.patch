--- a/modutils.sh	2019-01-15 20:20:08.708171583 +0300
+++ b/modutils.sh	2019-01-15 20:20:01.636335481 +0300
@@ -34,8 +34,27 @@
 		esac
 		[ -n "$(echo $loaded_modules | grep " $module ")" ] && continue
 		[ "$VERBOSE" != no ] && echo -n "$module "
+		# [ "$module" == "cec" ] && [ ! `grep 'hdmicec.enabled=true' /etc/enigma2/settings` ] && args="activemode=1" # Load cec in activemode if disabled in enigma2
 		eval "$LOAD_MODULE $module $args >/dev/null 2>&1"
 		loaded_modules="${loaded_modules}${module} "
+		[ "$module" == "micom" ] && echo "LOAD" > /dev/vfd
+		touch /dev/.devfsd
+
+		if [ -e /boot/audio.elf ] ; then
+			/usr/bin/ustslave /dev/st231-1 /boot/audio.elf > /dev/null
+		else
+			echo "Audio Firmware Missing!"
+			echo "Audio FW Missing!" > /dev/vfd
+		fi
+
+		if [ -e /boot/video.elf ] ; then
+			/usr/bin/ustslave /dev/st231-0 /boot/video.elf > /dev/null
+		else
+			echo "Video Firmware Missing!"
+			echo "Video FW Missing!" > /dev/vfd
+		fi
+
+		[ "$module" == "zram" ] && echo "16777216" > /sys/block/zram0/disksize # Use 16Mb for swap in ram
 	done
 }
 
@@ -49,4 +68,18 @@
 done
 [ "$VERBOSE" != no ] && echo
 
+echo "1" > /proc/sys/kernel/printk #for more log change level or remake line
+
+# Enable swap in ram
+if [ -e /dev/zram0 ]; then
+	[ "$VERBOSE" != no ] && echo "Enable swap in ram"
+	mkswap /dev/zram0
+	swapon -p 100 /dev/zram0
+fi
+
+# Unload cec if disabled in enigma2
+# if [ ! `grep 'hdmicec.enabled=true' /etc/enigma2/settings` ]; then
+#	rmmod cec
+# fi
+
 exit 0
